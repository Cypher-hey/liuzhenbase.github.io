<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>liuzhenbase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="刘振的网络日志，专注前端技术，探索全栈奥妙，记录生活思考">
<meta property="og:type" content="website">
<meta property="og:title" content="liuzhenbase">
<meta property="og:url" content="http://liuzhenbase.github.io/index.html">
<meta property="og:site_name" content="liuzhenbase">
<meta property="og:description" content="刘振的网络日志，专注前端技术，探索全栈奥妙，记录生活思考">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="liuzhenbase">
<meta name="twitter:description" content="刘振的网络日志，专注前端技术，探索全栈奥妙，记录生活思考">
  
    <link rel="alternate" href="/atom.xml" title="liuzhenbase" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">liuzhenbase</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">刘振的网络日志</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS-каналы"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Поиск"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://liuzhenbase.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-liuzhen-1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/02/liuzhen-1/" class="article-date">
  <time datetime="2016-06-01T17:33:59.000Z" itemprop="datePublished">2016-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/02/liuzhen-1/">liuzhen</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/06/02/liuzhen-1/" data-id="ciow7bc4g0001460pfgzgahpj" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-liuzhen" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/02/liuzhen/" class="article-date">
  <time datetime="2016-06-01T17:33:23.000Z" itemprop="datePublished">2016-06-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/02/liuzhen/">liuzhen</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/06/02/liuzhen/" data-id="ciow7bc4j0002460p5lhd0ukd" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/01/hello-world/" class="article-date">
  <time datetime="2016-06-01T01:10:27.000Z" itemprop="datePublished">2016-05-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/06/01/hello-world/" data-id="ciow7bc4a0000460p3kh6sc64" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-《图解http协议》笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/10/《图解http协议》笔记/" class="article-date">
  <time datetime="2016-04-10T02:16:51.000Z" itemprop="datePublished">2016-04-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="《图解HTTP协议》笔记"><a href="#《图解HTTP协议》笔记" class="headerlink" title="《图解HTTP协议》笔记"></a>《图解HTTP协议》笔记</h1><p>使用touch更新网站某资源，返回403状态码是否是通过时间来判定<br>如何查看是否开启TCP持久连接？<br>持久连接与管线化有什么区别，技术是如何实现的？<br>在什么状态下返回</p>
<pre><code>204 no Content
206 partial Content
303 see Other
304 not Modified
307
400 bad Request
401 认证
403 Forbidden（拒绝访问）
404 not found
500 服务器错误
503 服务器超负荷
</code></pre><p>使用代理服务器会有安全隐患么？<br>更改host文件有安全隐患么？<br>Nginx 和 Apache 各有什么优缺点？<br>通用首部</p>
<pre><code>cache-Control 缓存
Connection 控制不再转发给代理的首部字段、管理持久连接
Date 
Pragma 与cache-Control类似
Trailer 分块传输
Transfer-Encoding 规定分块传输的编码格式
Upgrade 其他协议
via 追踪路由信息
Warning 警告信息
</code></pre><p>请求首部</p>
<pre><code>Accept 用户代理能够处理的文件类型及优先级
Accept-Charset 用户代理支持的字符集及相对优先顺序
Accept-Encoding 告知服务器用户代理支持的内容编码及内容编码的优先级顺序
Accept-Language 代理能够处理的自然语言极其优先级
Authorization 用户代理认证
Expect 验证服务器所支持的扩展
Form 用户的邮箱
Host 主机名（必须包含）
If-Match 附带请求条件，只有为true时才接受请求
If-Modified-Since 指定时间后更新过文件才返回，否则返回403
If-None-Match 与If-Match相反
If-Range 不懂
If-Unmodified-Since 与If-Modified-Since相反
Max-Forwards 指定可经过的服务器最大数目
Proxy-Authorization 与Authorization类似，只不过时代理服务器的认证
Range 分段传输时指定传输范围，成功返回206，失败返回200
Range 页面来源URI
TE 类似Accept-Encoding，用于传输编码
User-Agent 用户代理标识符
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/04/10/《图解http协议》笔记/" data-id="ciow9mm460002he0peiyjk8vm" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-MAC OS上Web环境搭建及配置" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/08/MAC OS上Web环境搭建及配置/" class="article-date">
  <time datetime="2016-04-08T05:17:23.000Z" itemprop="datePublished">2016-04-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MAC-OS上Web环境搭建及配置"><a href="#MAC-OS上Web环境搭建及配置" class="headerlink" title="MAC OS上Web环境搭建及配置"></a>MAC OS上Web环境搭建及配置</h1><p>标签（空格分隔）： Linux＋PHP</p>
<hr>
<p>操作系统使用的是 <code>MAC OS 10.11.2</code><br>注意：MAC上默认是安装Apache和PHP的，且这两个服务是不启动的<br>命令返回”使用root用户”或”没有权限运行”等操作请切换到root用户或使用sudo命令<br>作为类UNIX的MAC OS与Linux操作有很多共性，更多配置信息请访问<a href="http://liuzhenbase.com/articles/apche-mysql-php-yum.html" target="_blank" rel="external">Linux上Apache、MySql、PHP安装及配置教程</a></p>
<hr>
<h3 id="查看是否安装apache（默认是安装的）"><a href="#查看是否安装apache（默认是安装的）" class="headerlink" title="查看是否安装apache（默认是安装的）"></a>查看是否安装apache（默认是安装的）</h3><pre><code>apachectl -v
</code></pre><p>返回</p>
<pre><code>Server version: Apache/2.4.16 (Unix)
Server built:   Jul 31 2015 15:53:26
</code></pre><h3 id="停止、启动和重启Apache服务"><a href="#停止、启动和重启Apache服务" class="headerlink" title="停止、启动和重启Apache服务"></a>停止、启动和重启Apache服务</h3><pre><code>apachectl stop
apachectl start
apachectl restart
</code></pre><h3 id="查看是否启动apache服务"><a href="#查看是否启动apache服务" class="headerlink" title="查看是否启动apache服务"></a>查看是否启动apache服务</h3><ol>
<li>使用本地回环测试地址<code>http://127.0.0.1</code></li>
<li>使用<code>http://locahost</code>  <h3 id="修改网站根目录"><a href="#修改网站根目录" class="headerlink" title="修改网站根目录"></a>修改网站根目录</h3><strong>注意我一下修改没有成功，但是思路是对的</strong><br>默认根目录是  </li>
<li><code>/library/WebServer/Document</code>(MAC OS网站根目录)  </li>
<li><code>/etc/apache2/httpd.conf</code>(MAC OS的Apache配置文件)</li>
</ol>
<p>按以下方式修改</p>
<pre><code>DocumentRoot &quot;/Library/WebServer/Documents&quot;
&lt;Directory &quot;/Library/WebServer/Documents&quot;&gt;
</code></pre><p>引号内写上要使用的目录文件<br>保存，重启apache，打开浏览器，返回403，显示如下结果</p>
<pre><code>Forbidden
You don&apos;t have permission to access / on this server.
</code></pre><p>意思是没有权限访问<br>使用终端切换到该目录，<code>ls -l</code>显示没有权限读写运行，运行以下命令</p>
<pre><code>chmod -R 777 Documents
</code></pre><p>或者</p>
<pre><code>chmod o+wx Documents
</code></pre><p>到这里理论上是应该可以访问了，但是仍然返回403，最后我在问答网站上解决了答案。</p>
<blockquote>
<p>不要放在desktop，因为mac的权限问题，保护所有默认用户目录。把document root放在～/目录吧。<br>–<a href="https://segmentfault.com/q/1010000004595195?_ea=661780" target="_blank" rel="external">Apache网站目录设置777仍然不能访问</a></p>
</blockquote>
<p>这样，折腾了一番，我又改回默认配置了，以上的思路及方法还是正确的。你可以在根目录或家目录下新建一个目录作为根目录试试。</p>
<h3 id="安装与配置PHP服务"><a href="#安装与配置PHP服务" class="headerlink" title="安装与配置PHP服务"></a>安装与配置PHP服务</h3><p>MAC中默认是已经安装PHP的，只需要设置Apache支持PHP模块就行了。请参考<a href="http://liuzhenbase.com/articles/apche-mysql-php-yum.html" target="_blank" rel="external">Linux上Apache、MySql、PHP安装及配置教程</a></p>
<h3 id="搭建MySQL环境"><a href="#搭建MySQL环境" class="headerlink" title="搭建MySQL环境"></a>搭建MySQL环境</h3><p>在官网上下载MySQL服务端，注意选择适合MAC版的，安装后在系统的偏好设置里有MySQL的设置界面，启动后连接数据库就行了，你也可以使用phpMyAdmin来管理数据库，同样参考我的另一篇文章。</p>
<h4 id="这里要特别注意在安装程序时会有一个默认的密码，你要记住该密码。不会的留言我会帮你解决。"><a href="#这里要特别注意在安装程序时会有一个默认的密码，你要记住该密码。不会的留言我会帮你解决。" class="headerlink" title="这里要特别注意在安装程序时会有一个默认的密码，你要记住该密码。不会的留言我会帮你解决。"></a>这里要特别注意在安装程序时会有一个默认的密码，你要记住该密码。不会的留言我会帮你解决。</h4><blockquote>
<p>什么方法都试了，还是不管用，于是卸载后重新安装。原来是新版本的有默认密码。<br>新版本的mysql有一个默认的密码可以用这个密码登录到mysql，但是登录后不能执行操作，需要执行命令修改root密码，重启mysql服务，然后再用root密码就可以使用了。<br>谢谢各位的回答^_^<br>－<a href="https://segmentfault.com/q/1010000004607933" target="_blank" rel="external">mac中无法连接mysql服务器</a></p>
</blockquote>
<p>最后吐槽一句，MAC上的教程比较少，而且MAC中的ROOT用户有很多不能执行的命令。上面我遇到的无法使桌面设置为网站根目录就是。  </p>
<p>都说MAC好，我觉得如果在Windows 10上有MAC的命令终端，那该多好啊。累觉不爱～<br><img width="400px;" src="http://liuzhenbase.com/images/fackmac.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/04/08/MAC OS上Web环境搭建及配置/" data-id="ciow9mm3w0000he0pz1gcuf5y" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-移动适配指南" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/08/移动适配指南/" class="article-date">
  <time datetime="2016-04-08T02:38:22.000Z" itemprop="datePublished">2016-04-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="移动适配指南"><a href="#移动适配指南" class="headerlink" title="移动适配指南"></a>移动适配指南</h1><p>文章概要</p>
<ul>
<li>为什么要适配移动端<ul>
<li>什么是移动端适配</li>
<li>为什么要做移动端适配</li>
</ul>
</li>
<li>怎样适配移动端<ul>
<li>什么样的网站利于移动端用户体验</li>
<li>如何做</li>
</ul>
</li>
<li>移动适配的技术选型<ul>
<li>技术选型比较</li>
<li>三种适配技术的实现<ul>
<li>跳转适配</li>
<li>代码适配</li>
<li>响应式适配</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="为什么要适配移动端"><a href="#为什么要适配移动端" class="headerlink" title="为什么要适配移动端"></a>为什么要适配移动端</h2><h3 id="什么是移动适配？"><a href="#什么是移动适配？" class="headerlink" title="什么是移动适配？"></a>什么是移动适配？</h3><p>移动适配的概念说白了就是适应移动终端（手机，平板）的网站。<br>适应的意思就是在移动终端上用户也能够得到良好的用户体验。</p>
<h3 id="为什么要做适应手机的网站？"><a href="#为什么要做适应手机的网站？" class="headerlink" title="为什么要做适应手机的网站？"></a>为什么要做适应手机的网站？</h3><p>移动互联网大趋势的到来，移动终端分流了传统PC网站的流量。人们更希望无论在PC、平板、还是在手机上都能都查看网站，获取网站的最新消息。而那些传统的，只适应PC端的网站的优势没有那么的强了。那些适应所有终端设备的网站反而给用户提供了统一的浏览体验，更容易成为用户的首选。而且那些以搜索引擎为流量入口的网站在移动端的排名会大打折扣，因为搜索引擎会判断网站是否适用于用户操作浏览，从而进行排名。<br>总的来说就是<strong>移动网站的需求强烈，利于用户体验的网站能提高用户粘性，移动友好的网站搜索排名更高。</strong></p>
<h2 id="怎样适配移动端"><a href="#怎样适配移动端" class="headerlink" title="怎样适配移动端"></a>怎样适配移动端</h2><p>从用户角度出发，一切能利于用户体验的规则在移动友好度中都适合。<strong>搜索引擎核心思想是为用户提供权威的，适合用户习惯的，能够解决用户实际需求的网页。</strong> 这一点无论终端如何变化，都适用。掌握了根本，就不会出现大的偏差。</p>
<h3 id="什么样的网站是利于移动端用户体验的呢？"><a href="#什么样的网站是利于移动端用户体验的呢？" class="headerlink" title="什么样的网站是利于移动端用户体验的呢？"></a>什么样的网站是利于移动端用户体验的呢？</h3><p>百度官方提出了《移动友好度》的概念，看一下概念</p>
<blockquote>
<p>除了搜索结果对需求的满足程度外，搜索结果的加载时间、页面浏览体验、资源或功能的易用性、页面是否符合移动端适配等，都影响移动用户体验的满意度。<br>-《百度搜索Mobile Friendly（移动友好度）标准V1.0</p>
</blockquote>
<p>可以看出关键词<code>移动用户满意度</code>，也就是用户体验，说白了就是用户浏览网站觉得舒服。下面详细展开一下。</p>
<h3 id="从哪方面入手？"><a href="#从哪方面入手？" class="headerlink" title="从哪方面入手？"></a>从哪方面入手？</h3><p><strong>页面加载时间</strong><br>百度用户体验部研究表明，用户期望且能够接受的页面加载时间在3秒以内。若页面的加载时间超过5秒，78%的用户会失去耐心而选择离开。这样的网站在PC端就不利于搜索算法，在普遍网速差的移动端只会加剧，从而加载快的网站与加载慢的网站之间的移动友好评判差距就会更大。<br><strong>页面结构布局</strong></p>
<ul>
<li>网页不要出现左右滚动，网页文档应该充满但不超过屏幕尺寸。</li>
<li>网页不能有大面积的广告，主体信息应该占据大部分空间</li>
<li>不使用缩放也能看清网页主要内容（最好锁定不让用户缩放）</li>
<li>网站第一屏全是广告，第二页才有主要内容<br><br><br>  <img src="http://zhanzhang.bj.bcebos.com/files/030081450764923.png" style="height: 300px;" alt="移动规范实例1"><br><p style="color:#5a0;"><br>示范1.左图为可以左右滚动（滑动）的错误案例，右图为只有缩放才可以看清网页内容的错误案例，并且在缩放的过程中会改变网页的整体布局，影响用户体验<br></p><br><img src="http://zhanzhang.bj.bcebos.com/files/084911450766524.png" style="height: 300px;" alt="移动规范实例2"></li>
</ul>
<p style="color:#5a0;"><br>示范2.左图首屏无主体内容，广告占据了大面积网页，右图在主体内容中间穿插广告，影响用户体验<br></p>


<p><strong>页面浏览体验</strong></p>
<ul>
<li>字体大小合适，一般为14像素</li>
<li>行间距不能太小，一般设置行高为字体高度的1.3倍</li>
<li>图片宽度尽量充满但不超过网站页宽</li>
<li>网站背景色要与网站主题内容颜色明显区分</li>
<li>链接之间间距要大，防治用户误操作 </li>
</ul>
<p><img src="http://zhanzhang.bj.bcebos.com/files/010171450764921.png" style="height: 300px;" alt="移动规范实例3"></p>
<p style="color:#5a0;"><br>示范3.左图背景与主体颜色之间难以区分，不利于阅读，右图行间距太小，段间距太大<br></p>

<p><img src="http://zhanzhang.bj.bcebos.com/files/046751450766587.png" style="height: 300px;" alt="移动规范实例4"></p>
<p style="color:#5a0;"><br>示范4.链接行间距太小，用户容易误操作<br></p>

<p><strong>资源可用性</strong>  </p>
<ul>
<li>页面提供的导航链接应清晰可点，页面推荐的内容应清晰有效；首页最好有各个分栏目大概括或摘要</li>
<li>页面提供的内容应清晰完整，有精良的排版。</li>
<li>Flash 是移动设备上不常用的资源形式，应避免使用；</li>
<li>音/视频应能够直接播放，且资源清晰优质。但最好不要自动播放</li>
<li>不要出现未经用户许可下载应用程序或强制用户下载应用程序</li>
<li>APP应提供直接下载，且下载的为最佳版本；百度严厉打击欺诈性下载手机助手和应用市场的行为；</li>
<li>应提供可直接阅读的文档，且文档阅读体验好；请注意，将文档资源转化为图片资源的的方式，不仅影响用户体验，对搜索引擎也不友好，应避免。</li>
</ul>
<p><img src="http://zhanzhang.bj.bcebos.com/files/089061450761491.png" style="height: 300px;" alt="移动规范实例5"></p>
<p style="color:#5a0;"><br>示范5，大面积使用Flash不仅不利于用户体验而且Flash在手机上会相当耗电。<br></p>

<p><img src="http://static.zybuluo.com/liuzhenbase/094zfnhjtch397ezsgf0fkwb/S60315-125506.jpg" style="height: 300px;" alt="移动规范实例5"></p>
<p style="color:#5a0;"><br>示范6，强制诱导用户下载应用软件。<br></p>

<p>正确的利于友好度的示范在这就不多举例了。 </p>
<hr>
<h2 id="移动适配的技术选型"><a href="#移动适配的技术选型" class="headerlink" title="移动适配的技术选型"></a>移动适配的技术选型</h2><p>上节讲了理论知识，这篇讲思路及如何动手去做。先看百度官方文档中对于这三种适配方式的比较。</p>
<h3 id="技术选型比较"><a href="#技术选型比较" class="headerlink" title="技术选型比较"></a>技术选型比较</h3><table>
<thead>
<tr>
<th></th>
<th>跳转适配</th>
<th>代码适配</th>
<th>自适应</th>
</tr>
</thead>
<tbody>
<tr>
<td>复杂程度</td>
<td>简单到中等。开发独立网站的速度可以非常快。小型企业可选用多种自动方案，以近乎实时的速度生成移动网站。</td>
<td>中到高，取决于网站的复杂程度和您需要创建的代码库数量。代码适配所需的开发时间可能较长，且要求服务器端编程</td>
<td>中。需要使用能随屏幕尺寸而变的流体网格从头开始创建。如果网站需求较简单，有许多开源模板可供选择。如要构建包含额外编程的复杂的自适应网站，所需的时间会比较长。</td>
</tr>
</tbody>
</table>
<p>性能 | 中。图片和其他网站内容可轻松针对小屏幕优化，但网站重定向经常会导致延迟问题。 | 高。可以简化为只包含为相应设备优化的内容，以实现最佳性能。 | 高。无任何重定向，但需要有周全的计划才能实现最优的效果。数据量膨胀是最常见的错误。 |<br>维护需求 | 中到高。更新主网站后，还必须单独在移动网站上进行更新。 | 如果人工维护，将需要大量的资源。许多网站使用内容管理系统来避免这一问题，并自动在所有模板上发布内容。 | 低。创建后，更新内容会流向所有设备，维护工作量极低。 |<br>设备 | 可专门针对移动用户优化网站。 | 单独的文件和服务器端代码（会在向用户传递网页前在您的服务器上运行）可以提供依设备而定的体验。 | 所有设备上的用户体验保持一致（一些设备专属的选项可通过服务器端程序添加）。<br>是否支持扩展至新平台     | 不支持。这是智能手机专用的独立移动网站。新平台无法轻松集成到现有架构中。 | 支持。可轻松针对具体的设备（例如智能电视）创建模板，并通过同一个网址投放。 | 支持。使用指定的断点和流体网格，可轻松扩展到新平台和新设备。|<br>PC、移动网址是否一致 | 否 | 是 | 是 |<br>PC、移动网页代码是否一致 | 否 | 否 | 是 |</p>
<p>对于中小型网站，如果你的网站图片不太多，那么我强烈建议你使用响应式布局，这也是google推荐的做法（百度表示对待所有的技术选型一视同仁），响应式布局虽然在设计制作的时候复杂程度一般，不需要后端编程语言知识，而且可以使用开源框架BootStrap快速开发。网页URL不变，从而网页权重不会分散。但是网页内容较多或者图片较多的情况下，就需要跳转适配或代码适配。百度里说的跳转适配不支持扩展到新平台我认为是不对的，理论上可以从PC端网页跳转到低端功能机和智能手机。例如，www.qq.com可以根据终端设备跳转到3g.qq.com和m.qq.com。（我没有低端功能机，没法测试）而在设备、维护成本和复杂度上，我感觉这两者基本没有什么区别。在性能上跳转适配需要跳转，会增加一次HTTP请求和DNS查询的时间，但是用户基本上感觉不到。<br>这里牵扯到太多的方面，如果你不知道如何选择，请留言，我会尽力解答你的问题。</p>
<h3 id="三种适配方式的技术实现"><a href="#三种适配方式的技术实现" class="headerlink" title="三种适配方式的技术实现"></a>三种适配方式的技术实现</h3><h4 id="代码适配"><a href="#代码适配" class="headerlink" title="代码适配"></a>代码适配</h4><p>代码适配是一种通过后台语言获取UA信息从而进行用户终端判断，针对不同设备的返回不同网页内容及展示形式的一种技术。其中HTTP请求头中的<code>用户代理(UserAgent)</code>，简称<code>UA</code>，可以获取用户所使用的浏览器信息。<br><strong>UA长什么样？</strong><br>浏览器通过HTTP向Web服务器发出请求某网页或某资源的信息（HTTP请求），Web服务器通过返回内容供浏览器解析（HTTP响应）。其中请求头中的用户代理信息详细记录了用户所使用的浏览器的信息。据此可以判断用户的终端信息。你可以通过查看apache日志或用户代理的控制台得到(这里有机会专门写一篇关于Apache日志的文章)，你可以通过Chrome-&gt;控制台-&gt;Network-&gt;选择左侧的HTML文件，在右侧查找UA就行了。  以下是我在MAC上使用Chrome的HTTP请求头。具体细节不必明白。</p>
<pre><code>User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36
</code></pre><p><img src="http://liuzhenbase.com/images/useragent.png" style="width:400px;"></p>
<p>就是判断这一串请求信息，我们可以通过PHP判断此信息，下面通过一条PHP命令判断此请求来源所属的用户终端。你可以分别用手机和电脑访问<a href="http://liuzhenbase.com/dome/PCorMobile.php" target="_blank" rel="external">http://liuzhenbase.com/dome/PCorMobile.php</a>来查看返回结果，这里移动端和PC端返回的结果是不一样的，这种技术就是<code>代码适配</code>。如果各站长对技术不是太了解就可以使用WordPress插件，这里请自行搜索。</p>
<pre><code>&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;?php
function is_mobile() {
    $user_agent = $_SERVER[&apos;HTTP_USER_AGENT&apos;];
    $mobile_agents = array(&quot;240x320&quot;,&quot;acer&quot;,&quot;acoon&quot;,&quot;acs-&quot;,&quot;abacho&quot;,&quot;ahong&quot;,&quot;airness&quot;,&quot;alcatel&quot;,&quot;amoi&quot;,
    &quot;android&quot;,&quot;anywhereyougo.com&quot;,&quot;applewebkit/525&quot;,&quot;applewebkit/532&quot;,&quot;asus&quot;,&quot;audio&quot;,
    &quot;au-mic&quot;,&quot;avantogo&quot;,&quot;becker&quot;,&quot;benq&quot;,&quot;bilbo&quot;,&quot;bird&quot;,&quot;blackberry&quot;,&quot;blazer&quot;,&quot;bleu&quot;,
    &quot;cdm-&quot;,&quot;compal&quot;,&quot;coolpad&quot;,&quot;danger&quot;,&quot;dbtel&quot;,&quot;dopod&quot;,&quot;elaine&quot;,&quot;eric&quot;,&quot;etouch&quot;,&quot;fly &quot;,
    &quot;fly_&quot;,&quot;fly-&quot;,&quot;go.web&quot;,&quot;goodaccess&quot;,&quot;gradiente&quot;,&quot;grundig&quot;,&quot;haier&quot;,&quot;hedy&quot;,&quot;hitachi&quot;,
    &quot;htc&quot;,&quot;huawei&quot;,&quot;hutchison&quot;,&quot;inno&quot;,&quot;ipad&quot;,&quot;ipaq&quot;,&quot;iphone&quot;,&quot;ipod&quot;,&quot;jbrowser&quot;,&quot;kddi&quot;,
    &quot;kgt&quot;,&quot;kwc&quot;,&quot;lenovo&quot;,&quot;lg &quot;,&quot;lg2&quot;,&quot;lg3&quot;,&quot;lg4&quot;,&quot;lg5&quot;,&quot;lg7&quot;,&quot;lg8&quot;,&quot;lg9&quot;,&quot;lg-&quot;,&quot;lge-&quot;,&quot;lge9&quot;,&quot;longcos&quot;,&quot;maemo&quot;,
    &quot;mercator&quot;,&quot;meridian&quot;,&quot;micromax&quot;,&quot;midp&quot;,&quot;mini&quot;,&quot;mitsu&quot;,&quot;mmm&quot;,&quot;mmp&quot;,&quot;mobi&quot;,&quot;mot-&quot;,
    &quot;moto&quot;,&quot;nec-&quot;,&quot;netfront&quot;,&quot;newgen&quot;,&quot;nexian&quot;,&quot;nf-browser&quot;,&quot;nintendo&quot;,&quot;nitro&quot;,&quot;nokia&quot;,
    &quot;nook&quot;,&quot;novarra&quot;,&quot;obigo&quot;,&quot;palm&quot;,&quot;panasonic&quot;,&quot;pantech&quot;,&quot;philips&quot;,&quot;phone&quot;,&quot;pg-&quot;,
    &quot;playstation&quot;,&quot;pocket&quot;,&quot;pt-&quot;,&quot;qc-&quot;,&quot;qtek&quot;,&quot;rover&quot;,&quot;sagem&quot;,&quot;sama&quot;,&quot;samu&quot;,&quot;sanyo&quot;,
    &quot;samsung&quot;,&quot;sch-&quot;,&quot;scooter&quot;,&quot;sec-&quot;,&quot;sendo&quot;,&quot;sgh-&quot;,&quot;sharp&quot;,&quot;siemens&quot;,&quot;sie-&quot;,&quot;softbank&quot;,
    &quot;sony&quot;,&quot;spice&quot;,&quot;sprint&quot;,&quot;spv&quot;,&quot;symbian&quot;,&quot;tablet&quot;,&quot;talkabout&quot;,&quot;tcl-&quot;,&quot;teleca&quot;,&quot;telit&quot;,
    &quot;tianyu&quot;,&quot;tim-&quot;,&quot;toshiba&quot;,&quot;tsm&quot;,&quot;up.browser&quot;,&quot;utec&quot;,&quot;utstar&quot;,&quot;verykool&quot;,&quot;virgin&quot;,
    &quot;vk-&quot;,&quot;voda&quot;,&quot;voxtel&quot;,&quot;vx&quot;,&quot;wap&quot;,&quot;wellco&quot;,&quot;wig browser&quot;,&quot;wii&quot;,&quot;windows ce&quot;,
    &quot;wireless&quot;,&quot;xda&quot;,&quot;xde&quot;,&quot;zte&quot;);
    $is_mobile = false;
    foreach ($mobile_agents as $device) {
        if (stristr($user_agent, $device)) {
            $is_mobile = true;
            break;
        }
    }
    return $is_mobile;
}
if(is_mobile()){
    //这里放移动端返回的代码
    echo &quot;你使用的是手机&quot;;
}else{
    //这里放电脑端返回的代码
    echo &quot;这使用的是电脑&quot;;
}
?&gt;
</code></pre><h4 id="跳转适配"><a href="#跳转适配" class="headerlink" title="跳转适配"></a>跳转适配</h4><p>有四种方法可以实现跳转适配<br>| 跳转方式 | 返回状态码 | 案例 | 说明 |<br>|———-|———-|———-|———-|<br>| 302临时跳转 | 302 | 新浪网、网易、京东、淘宝、去哪儿 |  |<br>| 301永久跳转 | 301 | 美团、饿了么 |  |<br>| JS跳转 | 200 | 腾讯网、360、大众点评 | 使用时不要等待网页加载完成，取得UA及判断信息后立即跳转 |<br>| 不跳转 | 200 | 昵图网 | 就是网页不跳转，但拥有两个网址分别对应移动端和PC端 |</p>
<p style="color:red;">这里为什么这么匹配我还没有研究  有知道的朋友请告知，谢谢</p>

<p><strong>302跳转代码（结合代码适配的代码）</strong></p>
<pre><code>&lt;?php
if(is_mobile()){
    //这里放移动端返回的代码
    //Header(&quot;HTTP/1.1 301 Moved Permanently&quot;);//如果使用301跳转
    header(&quot;Location: http://www.liuzhenbase.com&quot;);
}else{
    //这里放电脑端返回的代码
    echo &quot;这使用的是电脑&quot;;
}
exit();
?&gt;
</code></pre><p><strong>301跳转</strong><br>如上，在302跳转代码的前面加上<code>Header(&quot;HTTP/1.1 301 Moved Permanently&quot;);</code>，跳转适配最好使用二级域名例如<code>m.liuzhenbase.com/aboutme</code>，而不是使用<code>liuzhenbase.com/m/aboutme</code>。这里请参考文章开头给的两个参考链接</p>
<p>并且在使用二级域名的前提下在搜索引擎中提交这两个URL的匹配方式，告诉搜索引擎这是同一个网页的两种不同表达方式。这样做的目的是防止网页权重分散。</p>
<p><strong>JS跳转代码</strong>（代码来自<a href="http://web.51xuediannao.com/thread-72.htm" target="_blank" rel="external">http://web.51xuediannao.com/thread-72.htm</a>）<br>这里仅用于测试，在实际使用中要把函数<code>window.onload=function(){}</code>这句话去掉，否则会等待本页加载完成后才进行跳转，加载时间过长，严重影响用户体验。另外一定要记得要告诉搜索引擎URL匹配方式，从而使得你的网页权重不会分散。（因为蜘蛛可能不知道你的移动端网页和PC端网页是同一网页的不同表现形式，从而判断为两个网页，内容重复）</p>
<p>如果对代码不是很了解，你可以使用百度站长提供的JS工具：手机站在线生成工具（Site App）。</p>
<pre><code>&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;script&gt;
    window.onload=function(){
        h1=document.getElementById(&quot;h1&quot;);
        //判断是否为移动端运行环境
        if(/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))){
            if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){
                //访问环境是 Android|webOS|iPhone|iPod|BlackBerry 则加载以下样式
                h1.innerHTML=&quot;你使用的是手机，三秒后调转到百度&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://baidu.com&apos;;
                },3000);
            }
            else if(/iPad/i.test(navigator.userAgent)){
                //判断访问环境是 iPad 则加载以下样式
                h1.innerHTML=&quot;你使用的是ipad平板电脑，三秒后调转到新浪&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://sina.com&apos;;
                },3000);
            }else{
                //判断访问环境是 其他移动设备 则加载以下样式
                h1.innerHTML=&quot;你使用的是其它移动设备，三秒后调转到网易&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://163.com&apos;;
                },3000);
            }
        }else{
            h1.innerHTML=&quot;你使用的是PC，我不跳转&quot;;
        }

    }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 id=&quot;h1&quot;&gt;3秒后自动跳转到&lt;/h1&gt;
&lt;/body&gt;
</code></pre><h4 id="响应式适配"><a href="#响应式适配" class="headerlink" title="响应式适配"></a>响应式适配</h4><p>如果你还没有建设网站、你的网站图片不是太多或你的网站结构不复杂，那么我强烈建议你把网站做成<strong>响应式网站</strong>。响应式网站概括的说就是写一套代码，根据浏览者的设备不同，展现（响应）不同的样式。响应式网页设计是CSS3的一个具体应用（很多人以为是HTML5的这里纠正一下）。兼容IE9+及其他主流浏览器，然而巧合的是PC端基本用不到响应式，在IE8及以下浏览器中用了响应式于没用该技术没有区别，IE8以下浏览器会自动忽略CSS3的不能识别的样式。且在平板和手机端的操作系统安卓和IOS占据了90%以上，IE浏览器在移动端端市场份额也随之占比非常小，并且在Windows Phone中也是IE9+，于是<strong>响应式设计根本不需要考虑兼容问题</strong>。但是响应式设计的一个明显缺点是源代码(HTML代码)中的HTTP请求依然存在，会出现的一种情况就是你在PC端显示的图片虽然在移动端不显示，但是依然要加载该图片，影响加载速度。你可以使用七牛云存储使用CDN加速图片显示，等本博客实现该功能时会有教程，敬请期待。<br>具体操作的话讲几天也讲不完，只列出几个响应式设计的要点：<br>1.使终端设备的屏幕尺寸等于页面的尺寸<br>    <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&quot;&gt;</code></p>
<p>2.网页框架（宽度设定）以百分比展示</p>
<pre><code>/*wrap{width: 1100px;*/
wrap{width: 100%;}
</code></pre><p>3.响应式断点设置</p>
<pre><code>/* 超小屏幕（手机，小于 768px）+ */
@media (max-width: 767) {/*最大宽度为xxx时*/
    //这里写适应手机的样式
}
/* 小屏幕（平板，大于等于 768px 且小于等于991px） */
@media (min-width: 768) and (max-width: 991) {
    //这里写适应平板电脑的样式
}
</code></pre><p>具体实例可以参考本博客的响应式样式设计。</p>
<blockquote>
<p>参考文档：<br>Google官方文档：<a href="https://developers.google.com/webmasters/mobile-sites/mobile-seo/?hl=zh-cn" target="_blank" rel="external">移动设备搜索引擎优化 (SEO)</a><br>百度官方文档：<a href="http://zhanzhang.baidu.com/college/courseinfo?id=156&amp;page=1" target="_blank" rel="external">移动搜索-技术选型</a><br><a href="https://zhanzhang.baidu.com/college/documentinfo?id=759" target="_blank" rel="external">《百度搜索Mobile Friendly（移动友好度）标准V1.0》</a>    </p>
<p>作者：刘振，付科凯<br>QQ： 961981766 / 2786192861<br>版权所有，未经许可不可转载<br>本文地址<a href="http://liuzhenbase.com/articles/seo-mobile-friendly.html" target="_blank" rel="external">http://liuzhenbase.com/articles/seo-mobile-friendly.html</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/04/08/移动适配指南/" data-id="ciow9mm4b0005he0pjynfn9nb" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-为什么以及怎样适配移动网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/05/为什么以及怎样适配移动网站/" class="article-date">
  <time datetime="2016-04-05T02:41:26.000Z" itemprop="datePublished">2016-04-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="为什么以及怎样适配移动网站"><a href="#为什么以及怎样适配移动网站" class="headerlink" title="为什么以及怎样适配移动网站"></a>为什么以及怎样适配移动网站</h1><p>系列教程</p>
<ol>
<li><a href="http://liuzhenbase.com/articles/way-mobile-website.html" target="_blank" rel="external">为什么以及怎样适配移动网站</a></li>
<li><a href="http://liuzhenbase.com/articles/mobile-website.html" target="_blank" rel="external">怎样才能使网站适配手机、平板及PC端</a></li>
</ol>
<hr>
<h2 id="什么是移动适配？"><a href="#什么是移动适配？" class="headerlink" title="什么是移动适配？"></a>什么是移动适配？</h2><p>移动适配的概念说白了就是适应移动终端（手机，平板）的网站。<br>适应的意思就是在移动终端上用户也能够得到良好的用户体验。</p>
<h2 id="为什么要做适应手机的网站？"><a href="#为什么要做适应手机的网站？" class="headerlink" title="为什么要做适应手机的网站？"></a>为什么要做适应手机的网站？</h2><p>移动互联网大趋势的到来，移动终端分流了传统PC网站的流量。人们更希望无论在PC、平板、还是在手机上都能都查看网站，获取网站的最新消息。而那些传统的，只适应PC端的网站的优势没有那么的强了。那些适应所有终端设备的网站反而给用户提供了统一的浏览体验，更容易成为用户的首选。而且那些以搜索引擎为流量入口的网站在移动端的排名会大打折扣，因为搜索引擎会判断网站是否适用于用户操作浏览，从而进行排名。<br>总的来说就是<strong>移动网站的需求强烈，利于用户体验的网站能提高用户粘性，移动友好的网站搜索排名更高。</strong></p>
<h2 id="那么，什么样的网站是利于用户体验的呢？"><a href="#那么，什么样的网站是利于用户体验的呢？" class="headerlink" title="那么，什么样的网站是利于用户体验的呢？"></a>那么，什么样的网站是利于用户体验的呢？</h2><p>百度官方提出了《移动友好度》的概念，看一下概念</p>
<blockquote>
<p>除了搜索结果对需求的满足程度外，搜索结果的加载时间、页面浏览体验、资源或功能的易用性、页面是否符合移动端适配等，都影响移动用户体验的满意度。<br>-《百度搜索Mobile Friendly（移动友好度）标准V1.0</p>
</blockquote>
<p>可以看出关键词<code>移动用户满意度</code>，也就是用户体验，说白了就是用户浏览网站觉得舒服。下面详细展开一下。</p>
<h2 id="怎样做才能使用户在手机上友好体验？"><a href="#怎样做才能使用户在手机上友好体验？" class="headerlink" title="怎样做才能使用户在手机上友好体验？"></a>怎样做才能使用户在手机上友好体验？</h2><p><strong>页面加载时间</strong><br>百度用户体验部研究表明，用户期望且能够接受的页面加载时间在3秒以内。若页面的加载时间超过5秒，78%的用户会失去耐心而选择离开。这样的网站在PC端就不利于搜索算法，在普遍网速差的移动端只会加剧，从而加载快的网站与加载慢的网站之间的移动友好评判差距就会更大。<br><strong>页面结构布局</strong></p>
<ul>
<li>网页不要出现左右滚动，网页文档应该充满但不超过屏幕尺寸。</li>
<li>网页不能有大面积的广告，主体信息应该占据大部分空间</li>
<li>不使用缩放也能看清网页主要内容（最好锁定不让用户缩放）</li>
<li>网站第一屏全是广告，第二页才有主要内容<br><br><br>  <img src="http://zhanzhang.bj.bcebos.com/files/030081450764923.png" style="height: 300px;" alt="移动规范实例1"><br><p style="color:#5a0;"><br>示范1.左图为可以左右滚动（滑动）的错误案例，右图为只有缩放才可以看清网页内容的错误案例，并且在缩放的过程中会改变网页的整体布局，影响用户体验<br></p><br><img src="http://zhanzhang.bj.bcebos.com/files/084911450766524.png" style="height: 300px;" alt="移动规范实例2"></li>
</ul>
<p style="color:#5a0;"><br>示范2.左图首屏无主体内容，广告占据了大面积网页，右图在主体内容中间穿插广告，影响用户体验<br></p>


<p><strong>页面浏览体验</strong></p>
<ul>
<li>字体大小合适，一般为14像素</li>
<li>行间距不能太小，一般设置行高为字体高度的1.3倍</li>
<li>图片宽度尽量充满但不超过网站页宽</li>
<li>网站背景色要与网站主题内容颜色明显区分</li>
<li>链接之间间距要大，防治用户误操作 </li>
</ul>
<p><img src="http://zhanzhang.bj.bcebos.com/files/010171450764921.png" style="height: 300px;" alt="移动规范实例3"></p>
<p style="color:#5a0;"><br>示范3.左图背景与主体颜色之间难以区分，不利于阅读，右图行间距太小，段间距太大<br></p>

<p><img src="http://zhanzhang.bj.bcebos.com/files/046751450766587.png" style="height: 300px;" alt="移动规范实例4"></p>
<p style="color:#5a0;"><br>示范4.链接行间距太小，用户容易误操作<br></p>

<p><strong>资源可用性</strong>  </p>
<ul>
<li>页面提供的导航链接应清晰可点，页面推荐的内容应清晰有效；首页最好有各个分栏目大概括或摘要</li>
<li>页面提供的内容应清晰完整，有精良的排版。</li>
<li>Flash 是移动设备上不常用的资源形式，应避免使用；</li>
<li>音/视频应能够直接播放，且资源清晰优质。但最好不要自动播放</li>
<li>不要出现未经用户许可下载应用程序或强制用户下载应用程序</li>
<li>APP应提供直接下载，且下载的为最佳版本；百度严厉打击欺诈性下载手机助手和应用市场的行为；</li>
<li>应提供可直接阅读的文档，且文档阅读体验好；请注意，将文档资源转化为图片资源的的方式，不仅影响用户体验，对搜索引擎也不友好，应避免。</li>
</ul>
<p><img src="http://zhanzhang.bj.bcebos.com/files/089061450761491.png" style="height: 300px;" alt="移动规范实例5"></p>
<p style="color:#5a0;"><br>示范5，大面积使用Flash不仅不利于用户体验而且Flash在手机上会相当耗电。<br></p>

<p><img src="http://static.zybuluo.com/liuzhenbase/094zfnhjtch397ezsgf0fkwb/S60315-125506.jpg" style="height: 300px;" alt="移动规范实例5"></p>
<p style="color:#5a0;"><br>示范6，强制诱导用户下载应用软件。<br></p>

<p>正确的利于友好度的示范在这就不多举例了。  </p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>从用户角度出发，一切能利于用户体验的规则在移动友好度中都适合。<strong>搜索引擎核心思想是为用户提供权威的，适合用户习惯的，能够解决用户实际需求的网页。</strong>这一点无论终端如何变化，都适用。掌握了根本，就不会出现大的偏差。</p>
<hr>
<blockquote>
<p>参考文献：<a href="https://zhanzhang.baidu.com/college/documentinfo?id=759" target="_blank" rel="external">《百度搜索Mobile Friendly（移动友好度）标准V1.0》</a><br>作者：刘振，付科凯<br>如需转载请将联系作者</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/04/05/为什么以及怎样适配移动网站/" data-id="ciow9mm480003he0pv50o87ky" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Linux下Apache、MySql、PHP安装及配置教程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/27/Linux下Apache、MySql、PHP安装及配置教程/" class="article-date">
  <time datetime="2016-03-27T14:06:41.000Z" itemprop="datePublished">2016-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux下Apache、MySql、PHP安装及配置教程"><a href="#Linux下Apache、MySql、PHP安装及配置教程" class="headerlink" title="Linux下Apache、MySql、PHP安装及配置教程"></a>Linux下Apache、MySql、PHP安装及配置教程</h1><p>本文是通过配置我的网站<a href="http://liuzhenbase.com" target="_blank" rel="external">liuzhenbase</a>时笔记记录修改的，Linux版本是CentOS 6.5_x86_64位架构，使用的是阿里云的云服务器。</p>
<hr>
<h3 id="1-更新yum源"><a href="#1-更新yum源" class="headerlink" title="1.更新yum源"></a>1.更新yum源</h3><p>使用主机的第一件事就是更新yum源，由于默认的yum源是国外服务器，所以使用yum命令安装软件时会等待很久，且默认源上的软件不是最新的，所以推荐使用网易或阿里维护镜像yum源。参考这里：<a href="https://help.aliyun.com/knowledge_detail/5980325.html" target="_blank" rel="external">ECS Linux服务器配置yum源、配置CentOS的yum源</a>。</p>
<pre><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo
yum makecache
</code></pre><p>三行命令分别是备份，安装，生成缓存。<br>其中因为是使用的阿里云服务器，数据可以走内网（局域网），所以第二条为</p>
<pre><code>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyuncs.com/repo/Centos-6.repo
</code></pre><h3 id="2-安装Apache服务器"><a href="#2-安装Apache服务器" class="headerlink" title="2.安装Apache服务器"></a>2.安装Apache服务器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apachectl -v</span><br><span class="line">yum install httpd</span><br><span class="line">/etc/init.d/httpd start</span><br></pre></td></tr></table></figure>
<p>分别是查看是否安装Apahce、安装和启动Apache。Apache的默认网站根目录<code>/var/www/html</code>，配置文件路径为<code>/etc/httpd/conf/httpd.conf</code>。参考这里：<a href="http://www.splaybow.com/post/centos-yum-apache.html" target="_blank" rel="external">CentOS上使用yum安装Apache</a></p>
<h3 id="3-安装MySql"><a href="#3-安装MySql" class="headerlink" title="3.安装MySql"></a>3.安装MySql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep mysql<span class="comment">#查看是否已经安装</span></span><br><span class="line">yum install mysql-server<span class="comment">#安装服务端</span></span><br><span class="line">yum install mysql-devel<span class="comment">#这个应该是组件，不知道有什么用</span></span><br><span class="line">yum install mysql<span class="comment">#安装客户端</span></span><br><span class="line"></span><br><span class="line">service mysqld start<span class="comment">#启动</span></span><br><span class="line">service mysqld stop<span class="comment">#停止</span></span><br><span class="line">service mysqld restart<span class="comment">#重启</span></span><br><span class="line">mysqladmin -u root password 123456<span class="comment">#设置密码</span></span><br><span class="line">mysql -u root -p <span class="comment">#登录</span></span><br></pre></td></tr></table></figure>
<p>改密码后要重启Mysql服务器，参考：<a href="http://www.cnblogs.com/zgaspnet/p/3967002.html" target="_blank" rel="external">linux下使用yum安装mysql</a></p>
<h3 id="4-安装PHP运行环境"><a href="#4-安装PHP运行环境" class="headerlink" title="4.安装PHP运行环境"></a>4.安装PHP运行环境</h3><p>默认情况下，<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install php php-fpm php-bcmatch php-gd php-mbstring php-mcrypt php-mysql</span><br></pre></td></tr></table></figure></p>
<p>测试是否安装成功，在根目录下创建info.php文件，里面写上代码<code>&lt;?  phpinfo(); ?&gt;</code>，通过<a href="http://lizhenbase.com/info.php访问该文件，如果返回PHP信息说明安装成功。" target="_blank" rel="external">http://lizhenbase.com/info.php访问该文件，如果返回PHP信息说明安装成功。</a><br>参考<a href="http://share.zhbor.com/article/32765.html" target="_blank" rel="external">http://share.zhbor.com/article/32765.html</a></p>
<h3 id="5-配置Apache使其支持PHP"><a href="#5-配置Apache使其支持PHP" class="headerlink" title="5.配置Apache使其支持PHP"></a>5.配置Apache使其支持PHP</h3><p>这篇笔记写的时间比较长了，不记得当时需不需要在Apache中配置组件支持PHP，如果你访问网站内的.php文件返回源码或下载文件，那么就需要配置组件。<br>需要在httpd.conf中添加以下代码，修改后重启Apache服务</p>
<pre><code>LoadModule php5_module modules/libphp5.so
&lt;IfModule mod_php5.c&gt;
AddType application/x-httpd-php .php
AddType application/x-httpd-php-source .phps
&lt;/IfModule&gt;
</code></pre><h3 id="6-安装MySql图形管理界面phpMyAdmin"><a href="#6-安装MySql图形管理界面phpMyAdmin" class="headerlink" title="6.安装MySql图形管理界面phpMyAdmin"></a>6.安装MySql图形管理界面phpMyAdmin</h3><p>这个就不多说了，从官网上下载下来（注意版本号，看是否支持本机的MySql和PHP），直接放在网站根目录下，在浏览器中输入相应的地址就可以访问，登陆后即可管理。</p>
<h3 id="7-安装FTP服务"><a href="#7-安装FTP服务" class="headerlink" title="7.安装FTP服务"></a>7.安装FTP服务</h3><p>安装FTP服务是必须的，安装完成后要注意目录权限是否可以读写或执行。  使用<code>ls -l</code>命令查看文件权限<a href="https://help.aliyun.com/knowledge_detail/5973912.htm" target="_blank" rel="external">参考这里</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x 2 root root 4096 2月  10 01:29 cgi-bin</span><br><span class="line">drwxr-xr-x 3 root root 4096 3月  17 11:23 error</span><br><span class="line">drwxrwxrwx 7 root root 4096 3月  26 15:20 html</span><br><span class="line">drwxr-xr-x 3 root root 4096 3月  17 11:37 icons</span><br></pre></td></tr></table></figure>
<p>其中<code>drwxrwxrwx</code>中的每个字母分别对应<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">文件类型、  </span><br><span class="line">用户(User)可读r，用户可写w，用户可执行x、</span><br><span class="line">用户所属组成员(group)可读r、用户所属组成员可写w、用户所属组成员可操作x、</span><br><span class="line">其他用户(Other)可读r、其他用户可写w、其他用户可操作x</span><br></pre></td></tr></table></figure></p>
<p>其中的两个root分别对应文件所属用户、文件所属组。因为网页文件需要所有用户都可访问，而所有用户相对于root都属于<code>其他用户</code>，所以要为其赋予读写执行权限。也就是<code>chmod o+rwx www</code>，文件系统比较复杂，有机会专门列出一篇文章进行讲解。这里你不懂的话执行命令就行了。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep vsftpd<span class="comment">#查看是否安装</span></span><br><span class="line">yum install vsftpd -y<span class="comment">#安装</span></span><br><span class="line">useradd <span class="_">-d</span> /var/www <span class="_">-s</span> /sbin/nologin liuzhen<span class="comment">#添加用户使用时替换liuzhen为你的用户名</span></span><br><span class="line">passwd liuzhen<span class="comment">#设置用户密码</span></span><br><span class="line">chmod o+rwx www<span class="comment">#更改目录权限为用户u、组g、其他o都可以读r写w操作x</span></span><br><span class="line">service vsftpd start<span class="comment">#启动FTP服务</span></span><br></pre></td></tr></table></figure></p>
<h3 id="8-使Apache支持伪静态"><a href="#8-使Apache支持伪静态" class="headerlink" title="8.使Apache支持伪静态"></a>8.使Apache支持伪静态</h3><p>如果使用WordPress设置固定链接为非默认后网站内链接不能访问，那么你的网站不支持伪静态。若不是伪静态只能网站还能返回<code>liuzhenbase.com/index.php?p1</code>这种类似结构的地址，而使用了伪静态可以更好的利于搜索引擎搜录排名。你可以参考本站的链接进行设置。<br>找到apache的配置文件<code>httpd.conf</code></p>
<pre><code>LoadModule rewrite_module libexec/apache2/mod_rewrite.so
#去掉上面这行的#号
AllowOverride All
# 所有的&quot;AllowOverride none&quot;设置为All
</code></pre><p>重启Apache服务，在网站根目录下新建文件<code>htaccess.txt</code>，并且ohter用户设置为（rwx）可读可写，然后再使用WordPress设置链接地址就可以了。</p>
<hr>
<p>8.配置虚拟主机（等待更新）<br>最后更新日期2016年3月27日，如有疑问或指正请留言。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/03/27/Linux下Apache、MySql、PHP安装及配置教程/" data-id="ciow9mm430001he0p6wga2k8z" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-怎样才能使网站适配手机、平板及PC端" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/27/怎样才能使网站适配手机、平板及PC端/" class="article-date">
  <time datetime="2016-03-27T11:47:00.000Z" itemprop="datePublished">2016-03-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="怎样才能使网站适配手机、平板及PC端"><a href="#怎样才能使网站适配手机、平板及PC端" class="headerlink" title="怎样才能使网站适配手机、平板及PC端"></a>怎样才能使网站适配手机、平板及PC端</h1><p>系列教程</p>
<ol>
<li><a href="http://liuzhenbase.com/articles/way-mobile-website.html" target="_blank" rel="external">为什么以及怎样适配移动网站</a></li>
<li><a href="http://liuzhenbase.com/articles/mobile-website.html" target="_blank" rel="external">怎样才能使网站适配手机、平板及PC端</a></li>
</ol>
<hr>
<p>上篇讲了理论知识，这篇讲思路及如何动手去做。先看百度官方文档中对于这三种适配方式的比较。</p>
<table>
<thead>
<tr>
<th></th>
<th>跳转适配</th>
<th>代码适配</th>
<th>自适应</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<p>复杂程度 | 简单到中等。开发独立网站的速度可以非常快。小型企业可选用多种自动方案，以近乎实时的速度生成移动网站。 | 中到高，取决于网站的复杂程度和您需要创建的代码库数量。代码适配所需的开发时间可能较长，且要求服务器端编程 | 中。需要使用能随屏幕尺寸而变的流体网格从头开始创建。如果网站需求较简单，有许多开源模板可供选择。如要构建包含额外编程的复杂的自适应网站，所需的时间会比较长。 |<br>性能 | 中。图片和其他网站内容可轻松针对小屏幕优化，但网站重定向经常会导致延迟问题。 | 高。可以简化为只包含为相应设备优化的内容，以实现最佳性能。 | 高。无任何重定向，但需要有周全的计划才能实现最优的效果。数据量膨胀是最常见的错误。 |<br>维护需求 | 中到高。更新主网站后，还必须单独在移动网站上进行更新。 | 如果人工维护，将需要大量的资源。许多网站使用内容管理系统来避免这一问题，并自动在所有模板上发布内容。 | 低。创建后，更新内容会流向所有设备，维护工作量极低。 |<br>设备 | 可专门针对移动用户优化网站。 | 单独的文件和服务器端代码（会在向用户传递网页前在您的服务器上运行）可以提供依设备而定的体验。 | 所有设备上的用户体验保持一致（一些设备专属的选项可通过服务器端程序添加）。<br>是否支持扩展至新平台     | 不支持。这是智能手机专用的独立移动网站。新平台无法轻松集成到现有架构中。 | 支持。可轻松针对具体的设备（例如智能电视）创建模板，并通过同一个网址投放。 | 支持。使用指定的断点和流体网格，可轻松扩展到新平台和新设备。|<br>PC、移动网址是否一致 | 否 | 是 | 是 |<br>PC、移动网页代码是否一致 | 否 | 否 | 是 |</p>
<h2 id="应该怎样选择适配技术？"><a href="#应该怎样选择适配技术？" class="headerlink" title="应该怎样选择适配技术？"></a>应该怎样选择适配技术？</h2><p>对于中小型网站，如果你的网站图片不太多，那么我强烈建议你使用响应式布局，这也是google推荐的做法（百度没有表明态度），响应式布局虽然在设计制作的时候复杂程度一般，不需要后端编程语言知识，而且可以使用开源框架BootStrap快速开发。网页URL不变，从而网页权重不会分散。但是网页内容较多或者图片较多的情况下，就需要跳转适配或代码适配。百度里说的跳转适配不支持扩展到新平台我认为是不对的，理论上可以从PC端网页跳转到低端功能机和智能手机。例如，www.qq.com可以根据终端设备跳转到3g.qq.com和m.qq.com。（我没有低端功能机，没法测试）而在设备、维护成本和复杂度上，我感觉这两者基本没有什么区别。在性能上跳转适配需要跳转，会增加一次HTTP请求和DNS查询的时间，但是用户基本上感觉不到。<br>这里牵扯到太多的方面，如果你不知道如何选择，请留言，我会尽力解答你的问题。</p>
<h2 id="三种适配方式的技术实现"><a href="#三种适配方式的技术实现" class="headerlink" title="三种适配方式的技术实现"></a>三种适配方式的技术实现</h2><h3 id="代码适配"><a href="#代码适配" class="headerlink" title="代码适配"></a>代码适配</h3><p>代码适配是一种通过后台语言获取UA信息从而进行用户终端判断，针对不同设备的返回不同网页内容及展示形式的一种技术。其中HTTP请求头中的<code>用户代理(UserAgent)</code>，简称<code>UA</code>，可以获取用户所使用的浏览器信息。<br><strong>UA长什么样？</strong><br>浏览器通过HTTP向Web服务器发出请求某网页或某资源的信息（HTTP请求），Web服务器通过返回内容供浏览器解析（HTTP响应）。其中请求头中的用户代理信息详细记录了用户所使用的浏览器的信息。据此可以判断用户的终端信息。你可以通过查看apache日志或用户代理的控制台得到(这里有机会专门写一篇关于Apache日志的文章)，你可以通过Chrome-&gt;控制台-&gt;Network-&gt;选择左侧的HTML文件，在右侧查找UA就行了。  以下是我在MAC上使用Chrome的HTTP请求头。具体细节不必明白。</p>
<pre><code>User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36
</code></pre><p><img src="http://liuzhenbase.com/images/useragent.png" style="width:400px;"></p>
<p>就是判断这一串请求信息，我们可以通过PHP判断此信息，下面通过一条PHP命令判断此请求来源所属的用户终端。你可以分别用手机和电脑访问<a href="http://liuzhenbase.com/dome/PCorMobile.php" target="_blank" rel="external">http://liuzhenbase.com/dome/PCorMobile.php</a>来查看返回结果，这里移动端和PC端返回的结果是不一样的，这种技术就是<code>代码适配</code>。如果各站长对技术不是太了解就可以使用WordPress插件，这里请自行搜索。</p>
<pre><code>&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;?php
function is_mobile() {
    $user_agent = $_SERVER[&apos;HTTP_USER_AGENT&apos;];
    $mobile_agents = array(&quot;240x320&quot;,&quot;acer&quot;,&quot;acoon&quot;,&quot;acs-&quot;,&quot;abacho&quot;,&quot;ahong&quot;,&quot;airness&quot;,&quot;alcatel&quot;,&quot;amoi&quot;,
    &quot;android&quot;,&quot;anywhereyougo.com&quot;,&quot;applewebkit/525&quot;,&quot;applewebkit/532&quot;,&quot;asus&quot;,&quot;audio&quot;,
    &quot;au-mic&quot;,&quot;avantogo&quot;,&quot;becker&quot;,&quot;benq&quot;,&quot;bilbo&quot;,&quot;bird&quot;,&quot;blackberry&quot;,&quot;blazer&quot;,&quot;bleu&quot;,
    &quot;cdm-&quot;,&quot;compal&quot;,&quot;coolpad&quot;,&quot;danger&quot;,&quot;dbtel&quot;,&quot;dopod&quot;,&quot;elaine&quot;,&quot;eric&quot;,&quot;etouch&quot;,&quot;fly &quot;,
    &quot;fly_&quot;,&quot;fly-&quot;,&quot;go.web&quot;,&quot;goodaccess&quot;,&quot;gradiente&quot;,&quot;grundig&quot;,&quot;haier&quot;,&quot;hedy&quot;,&quot;hitachi&quot;,
    &quot;htc&quot;,&quot;huawei&quot;,&quot;hutchison&quot;,&quot;inno&quot;,&quot;ipad&quot;,&quot;ipaq&quot;,&quot;iphone&quot;,&quot;ipod&quot;,&quot;jbrowser&quot;,&quot;kddi&quot;,
    &quot;kgt&quot;,&quot;kwc&quot;,&quot;lenovo&quot;,&quot;lg &quot;,&quot;lg2&quot;,&quot;lg3&quot;,&quot;lg4&quot;,&quot;lg5&quot;,&quot;lg7&quot;,&quot;lg8&quot;,&quot;lg9&quot;,&quot;lg-&quot;,&quot;lge-&quot;,&quot;lge9&quot;,&quot;longcos&quot;,&quot;maemo&quot;,
    &quot;mercator&quot;,&quot;meridian&quot;,&quot;micromax&quot;,&quot;midp&quot;,&quot;mini&quot;,&quot;mitsu&quot;,&quot;mmm&quot;,&quot;mmp&quot;,&quot;mobi&quot;,&quot;mot-&quot;,
    &quot;moto&quot;,&quot;nec-&quot;,&quot;netfront&quot;,&quot;newgen&quot;,&quot;nexian&quot;,&quot;nf-browser&quot;,&quot;nintendo&quot;,&quot;nitro&quot;,&quot;nokia&quot;,
    &quot;nook&quot;,&quot;novarra&quot;,&quot;obigo&quot;,&quot;palm&quot;,&quot;panasonic&quot;,&quot;pantech&quot;,&quot;philips&quot;,&quot;phone&quot;,&quot;pg-&quot;,
    &quot;playstation&quot;,&quot;pocket&quot;,&quot;pt-&quot;,&quot;qc-&quot;,&quot;qtek&quot;,&quot;rover&quot;,&quot;sagem&quot;,&quot;sama&quot;,&quot;samu&quot;,&quot;sanyo&quot;,
    &quot;samsung&quot;,&quot;sch-&quot;,&quot;scooter&quot;,&quot;sec-&quot;,&quot;sendo&quot;,&quot;sgh-&quot;,&quot;sharp&quot;,&quot;siemens&quot;,&quot;sie-&quot;,&quot;softbank&quot;,
    &quot;sony&quot;,&quot;spice&quot;,&quot;sprint&quot;,&quot;spv&quot;,&quot;symbian&quot;,&quot;tablet&quot;,&quot;talkabout&quot;,&quot;tcl-&quot;,&quot;teleca&quot;,&quot;telit&quot;,
    &quot;tianyu&quot;,&quot;tim-&quot;,&quot;toshiba&quot;,&quot;tsm&quot;,&quot;up.browser&quot;,&quot;utec&quot;,&quot;utstar&quot;,&quot;verykool&quot;,&quot;virgin&quot;,
    &quot;vk-&quot;,&quot;voda&quot;,&quot;voxtel&quot;,&quot;vx&quot;,&quot;wap&quot;,&quot;wellco&quot;,&quot;wig browser&quot;,&quot;wii&quot;,&quot;windows ce&quot;,
    &quot;wireless&quot;,&quot;xda&quot;,&quot;xde&quot;,&quot;zte&quot;);
    $is_mobile = false;
    foreach ($mobile_agents as $device) {
        if (stristr($user_agent, $device)) {
            $is_mobile = true;
            break;
        }
    }
    return $is_mobile;
}
if(is_mobile()){
    //这里放移动端返回的代码
    echo &quot;你使用的是手机&quot;;
}else{
    //这里放电脑端返回的代码
    echo &quot;这使用的是电脑&quot;;
}
?&gt;
</code></pre><h3 id="跳转适配"><a href="#跳转适配" class="headerlink" title="跳转适配"></a>跳转适配</h3><p>有四种方法可以实现跳转适配<br>| 跳转方式 | 返回状态码 | 案例 | 说明 |<br>|———-|———-|———-|———-|<br>| 302临时跳转 | 302 | 新浪网、网易、京东、淘宝、去哪儿 |  |<br>| 301永久跳转 | 301 | 美团、饿了么 |  |<br>| JS跳转 | 200 | 腾讯网、360、大众点评 | 使用时不要等待网页加载完成，取得UA及判断信息后立即跳转 |<br>| 不跳转 | 200 | 昵图网 | 就是网页不跳转，但拥有两个网址分别对应移动端和PC端 |</p>
<p style="color:red;">这里为什么这么匹配我还没有研究  有知道的朋友请告知，谢谢</p>

<p><strong>302跳转代码（结合代码适配的代码）</strong></p>
<pre><code>&lt;?php
if(is_mobile()){
    //这里放移动端返回的代码
    //Header(&quot;HTTP/1.1 301 Moved Permanently&quot;);//如果使用301跳转
    header(&quot;Location: http://www.liuzhenbase.com&quot;);
}else{
    //这里放电脑端返回的代码
    echo &quot;这使用的是电脑&quot;;
}
exit();
?&gt;
</code></pre><p><strong>301跳转</strong><br>如上，在302跳转代码的前面加上<code>Header(&quot;HTTP/1.1 301 Moved Permanently&quot;);</code>，跳转适配最好使用二级域名例如<code>m.liuzhenbase.com/aboutme</code>，而不是使用<code>liuzhenbase.com/m/aboutme</code>。这里请参考文章开头给的两个参考链接</p>
<p>并且在使用二级域名的前提下在搜索引擎中提交这两个URL的匹配方式，告诉搜索引擎这是同一个网页的两种不同表达方式。这样做的目的是防止网页权重分散。</p>
<p><strong>JS跳转代码</strong>（代码来自<a href="http://web.51xuediannao.com/thread-72.htm" target="_blank" rel="external">http://web.51xuediannao.com/thread-72.htm</a>）<br>这里仅用于测试，在实际使用中要把函数<code>window.onload=function(){}</code>这句话去掉，否则会等待本页加载完成后才进行跳转，加载时间过长，严重影响用户体验。另外一定要记得要告诉搜索引擎URL匹配方式，从而使得你的网页权重不会分散。（因为蜘蛛可能不知道你的移动端网页和PC端网页是同一网页的不同表现形式，从而判断为两个网页，内容重复）</p>
<p>如果对代码不是很了解，你可以使用百度站长提供的JS工具：手机站在线生成工具（Site App）。</p>
<pre><code>&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;script&gt;
    window.onload=function(){
        h1=document.getElementById(&quot;h1&quot;);
        //判断是否为移动端运行环境
        if(/AppleWebKit.*Mobile/i.test(navigator.userAgent) || (/MIDP|SymbianOS|NOKIA|SAMSUNG|LG|NEC|TCL|Alcatel|BIRD|DBTEL|Dopod|PHILIPS|HAIER|LENOVO|MOT-|Nokia|SonyEricsson|SIE-|Amoi|ZTE/.test(navigator.userAgent))){
            if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){
                //访问环境是 Android|webOS|iPhone|iPod|BlackBerry 则加载以下样式
                h1.innerHTML=&quot;你使用的是手机，三秒后调转到百度&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://baidu.com&apos;;
                },3000);
            }
            else if(/iPad/i.test(navigator.userAgent)){
                //判断访问环境是 iPad 则加载以下样式
                h1.innerHTML=&quot;你使用的是ipad平板电脑，三秒后调转到新浪&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://sina.com&apos;;
                },3000);
            }else{
                //判断访问环境是 其他移动设备 则加载以下样式
                h1.innerHTML=&quot;你使用的是其它移动设备，三秒后调转到网易&quot;;
                setTimeout(function(){
                    window.location.href=&apos;http://163.com&apos;;
                },3000);
            }
        }else{
            h1.innerHTML=&quot;你使用的是PC，我不跳转&quot;;
        }

    }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1 id=&quot;h1&quot;&gt;3秒后自动跳转到&lt;/h1&gt;
&lt;/body&gt;
</code></pre><h3 id="自适应代码适配"><a href="#自适应代码适配" class="headerlink" title="自适应代码适配"></a>自适应代码适配</h3><p>如果你还没有建设网站、你的网站图片不是太多或你的网站结构不复杂，那么我强烈建议你把网站做成<strong>响应式网站</strong>。响应式网站概括的说就是写一套代码，根据浏览者的设备不同，展现（响应）不同的样式。响应式网页设计是CSS3的一个具体应用（很多人以为是HTML5的这里纠正一下）。兼容IE9+及其他主流浏览器，然而巧合的是PC端基本用不到响应式，在IE8及以下浏览器中用了响应式于没用该技术没有区别，IE8以下浏览器会自动忽略CSS3的不能识别的样式。且在平板和手机端的操作系统安卓和IOS占据了90%以上，IE浏览器在移动端端市场份额也随之占比非常小，并且在Windows Phone中也是IE9+，于是<strong>响应式设计根本不需要考虑兼容问题</strong>。但是响应式设计的一个明显缺点是源代码(HTML代码)中的HTTP请求依然存在，会出现的一种情况就是你在PC端显示的图片虽然在移动端不显示，但是依然要加载该图片，影响加载速度。你可以使用七牛云存储使用CDN加速图片显示，等本博客实现该功能时会有教程，敬请期待。<br>具体操作的话讲几天也讲不完，只列出几个响应式设计的要点：<br>1.使终端设备的屏幕尺寸等于页面的尺寸<br>    <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no&quot;&gt;</code></p>
<p>2.网页框架（宽度设定）以百分比展示</p>
<pre><code>/*wrap{width: 1100px;*/
wrap{width: 100%;}
</code></pre><p>3.响应式断点设置</p>
<pre><code>/* 超小屏幕（手机，小于 768px）+ */
@media (max-width: 767) {/*最大宽度为xxx时*/
    //这里写适应手机的样式
}
/* 小屏幕（平板，大于等于 768px 且小于等于991px） */
@media (min-width: 768) and (max-width: 991) {
    //这里写适应平板电脑的样式
}
</code></pre><p>具体实例可以参考本博客的响应式样式设计。</p>
<blockquote>
<p>本文参考文档：<br>Google官方文档：<a href="https://developers.google.com/webmasters/mobile-sites/mobile-seo/?hl=zh-cn" target="_blank" rel="external">移动设备搜索引擎优化 (SEO)</a><br>百度官方文档：<a href="http://zhanzhang.baidu.com/college/courseinfo?id=156&amp;page=1" target="_blank" rel="external">移动搜索-技术选型</a></p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://liuzhenbase.github.io/2016/03/27/怎样才能使网站适配手机、平板及PC端/" data-id="ciow9mm4a0004he0p9rd6lhh8" class="article-share-link">Поделиться</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Архив</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Недавние записи</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/06/02/liuzhen-1/">liuzhen</a>
          </li>
        
          <li>
            <a href="/2016/06/02/liuzhen/">liuzhen</a>
          </li>
        
          <li>
            <a href="/2016/06/01/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2016/04/10/《图解http协议》笔记/">(no title)</a>
          </li>
        
          <li>
            <a href="/2016/04/08/MAC OS上Web环境搭建及配置/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 一路向北<br>
      Создано с помощью <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>